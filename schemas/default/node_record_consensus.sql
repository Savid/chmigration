CREATE TABLE default.node_record_consensus\n(\n    `updated_date_time` DateTime COMMENT \'Timestamp when the record was last updated\' CODEC(DoubleDelta, ZSTD(1)),\n    `event_date_time` DateTime64(3) COMMENT \'When the discovery module found the node\' CODEC(DoubleDelta, ZSTD(1)),\n    `enr` String COMMENT \'Ethereum Node Record as text\' CODEC(ZSTD(1)),\n    `node_id` Nullable(String) COMMENT \'ID of the Ethereum Node Record\' CODEC(ZSTD(1)),\n    `peer_id_unique_key` Nullable(Int64) COMMENT \'Unique key associated with the identifier of the peer\',\n    `timestamp` Int64 COMMENT \'Event timestamp in unix time\' CODEC(DoubleDelta, ZSTD(1)),\n    `name` String COMMENT \'Consensus client name\' CODEC(ZSTD(1)),\n    `version` LowCardinality(String) COMMENT \'Consensus client version\' CODEC(ZSTD(1)),\n    `version_major` LowCardinality(String) COMMENT \'Consensus client major version\' CODEC(ZSTD(1)),\n    `version_minor` LowCardinality(String) COMMENT \'Consensus client minor version\' CODEC(ZSTD(1)),\n    `version_patch` LowCardinality(String) COMMENT \'Consensus client patch version\' CODEC(ZSTD(1)),\n    `implementation` LowCardinality(String) COMMENT \'Consensus client implementation\' CODEC(ZSTD(1)),\n    `fork_digest` String COMMENT \'Fork digest value\' CODEC(ZSTD(1)),\n    `next_fork_digest` Nullable(String) COMMENT \'Next fork digest of the next scheduled fork\' CODEC(ZSTD(1)),\n    `finalized_root` String COMMENT \'Finalized beacon block root\' CODEC(ZSTD(1)),\n    `finalized_epoch` UInt64 COMMENT \'Finalized epoch number\' CODEC(DoubleDelta, ZSTD(1)),\n    `head_root` String COMMENT \'Head beacon block root\' CODEC(ZSTD(1)),\n    `head_slot` UInt64 COMMENT \'Head slot number\' CODEC(DoubleDelta, ZSTD(1)),\n    `cgc` Nullable(String) COMMENT \'Represents the nodes custody group count\' CODEC(ZSTD(1)),\n    `finalized_epoch_start_date_time` Nullable(DateTime) COMMENT \'Finalized epoch start time\' CODEC(DoubleDelta, ZSTD(1)),\n    `head_slot_start_date_time` Nullable(DateTime) COMMENT \'Head slot start time\' CODEC(DoubleDelta, ZSTD(1)),\n    `ip` Nullable(IPv6) COMMENT \'IP address of the consensus node\' CODEC(ZSTD(1)),\n    `tcp` Nullable(UInt16) COMMENT \'TCP port from ENR\' CODEC(DoubleDelta, ZSTD(1)),\n    `udp` Nullable(UInt16) COMMENT \'UDP port from ENR\' CODEC(DoubleDelta, ZSTD(1)),\n    `quic` Nullable(UInt16) COMMENT \'QUIC port from ENR\' CODEC(DoubleDelta, ZSTD(1)),\n    `has_ipv6` Bool COMMENT \'Whether the consensus node has an IPv6 address\' CODEC(ZSTD(1)),\n    `geo_city` LowCardinality(String) COMMENT \'City of the consensus node\' CODEC(ZSTD(1)),\n    `geo_country` LowCardinality(String) COMMENT \'Country of the consensus node\' CODEC(ZSTD(1)),\n    `geo_country_code` LowCardinality(String) COMMENT \'Country code of the consensus node\' CODEC(ZSTD(1)),\n    `geo_continent_code` LowCardinality(String) COMMENT \'Continent code of the consensus node\' CODEC(ZSTD(1)),\n    `geo_longitude` Nullable(Float64) COMMENT \'Longitude of the consensus node\' CODEC(ZSTD(1)),\n    `geo_latitude` Nullable(Float64) COMMENT \'Latitude of the consensus node\' CODEC(ZSTD(1)),\n    `geo_autonomous_system_number` Nullable(UInt32) COMMENT \'Autonomous system number of the consensus node\' CODEC(ZSTD(1)),\n    `geo_autonomous_system_organization` Nullable(String) COMMENT \'Autonomous system organization of the consensus node\' CODEC(ZSTD(1)),\n    `meta_client_name` LowCardinality(String) COMMENT \'Name of the client that generated the event\',\n    `meta_client_id` String COMMENT \'Unique Session ID of the client that generated the event. This changes every time the client is restarted.\' CODEC(ZSTD(1)),\n    `meta_client_version` LowCardinality(String) COMMENT \'Version of the client that generated the event\',\n    `meta_client_implementation` LowCardinality(String) COMMENT \'Implementation of the client that generated the event\',\n    `meta_client_os` LowCardinality(String) COMMENT \'Operating system of the client that generated the event\',\n    `meta_client_ip` Nullable(IPv6) COMMENT \'IP address of the client that generated the event\' CODEC(ZSTD(1)),\n    `meta_client_geo_city` LowCardinality(String) COMMENT \'City of the client that generated the event\' CODEC(ZSTD(1)),\n    `meta_client_geo_country` LowCardinality(String) COMMENT \'Country of the client that generated the event\' CODEC(ZSTD(1)),\n    `meta_client_geo_country_code` LowCardinality(String) COMMENT \'Country code of the client that generated the event\' CODEC(ZSTD(1)),\n    `meta_client_geo_continent_code` LowCardinality(String) COMMENT \'Continent code of the client that generated the event\' CODEC(ZSTD(1)),\n    `meta_client_geo_longitude` Nullable(Float64) COMMENT \'Longitude of the client that generated the event\' CODEC(ZSTD(1)),\n    `meta_client_geo_latitude` Nullable(Float64) COMMENT \'Latitude of the client that generated the event\' CODEC(ZSTD(1)),\n    `meta_client_geo_autonomous_system_number` Nullable(UInt32) COMMENT \'Autonomous system number of the client that generated the event\' CODEC(ZSTD(1)),\n    `meta_client_geo_autonomous_system_organization` Nullable(String) COMMENT \'Autonomous system organization of the client that generated the event\' CODEC(ZSTD(1)),\n    `meta_network_id` Int32 COMMENT \'Ethereum network ID\' CODEC(DoubleDelta, ZSTD(1)),\n    `meta_network_name` LowCardinality(String) COMMENT \'Ethereum network name\',\n    `meta_labels` Map(String, String) COMMENT \'Labels associated with the event\' CODEC(ZSTD(1))\n)\nENGINE = Distributed(\'{cluster}\', \'default\', \'node_record_consensus_local\', cityHash64(event_date_time, meta_network_name, enr, meta_client_name))\nCOMMENT 'Contains consensus node records discovered by the Xatu discovery module.'\n
